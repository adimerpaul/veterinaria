import{g as x,r as d,V as Q,c as w,o as y,w as a,a as e,b as s,Z as i,al as b,d as g,ai as V,f as v,ak as k,t as C}from"./index-DMgRWbxc.js";import{Q as I}from"./QSpace-XEHKbqvf.js";import{Q as $}from"./QForm-z4yRst-p.js";import{Q as q}from"./QPage-BV71loAn.js";import{Q as B,a as L}from"./QLayout-BQmbJHZ1.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QResizeObserver-BWHT2UeI.js";const P={class:"row"},S={class:"col-12 col-md-6 q-pa-lg",style:{background:"rgba(255,255,255,0.75)",height:"100vh","backdrop-filter":"blur(17px)"}},z={class:"row flex flex-center"},A={class:"col-12 col-md-8 text-subtitle q-pt-md"},E={class:"col-12 col-md-8 text-subtitle q-pt-md"},U={class:"col-12 col-md-8 q-pt-xs row items-center"},D={class:"col-12 col-md-8 text-subtitle q-pt-md"},F={class:"col-12 col-md-8 text-subtitle q-pt-md"},M={class:"col-12 col-md-8 text-subtitle q-pt-lg"},R={__name:"LoginPage",setup(T){const{proxy:t}=x(),u=d(""),m=d(""),n=d(!1),p=d(!1),c=d(!1);Q(()=>{});function f(){c.value=!0,t.$axios.post("/users/login",{username:u.value,password:m.value}).then(r=>{const l=r.data.user,o=r.data.token;t.$axios.defaults.headers.common.Authorization=`Bearer ${o}`,t.$store.isLogged=!0,t.$store.user=l,localStorage.setItem("tokenClinica",o),t.$alert.success("Bienvenido "+l.name),t.$router.push("/")}).catch(r=>{t.$alert.error("Error al iniciar sesión","Error")}).finally(()=>{c.value=!1})}return(r,l)=>(y(),w(L,{class:"bgLogin"},{default:a(()=>[e(B,null,{default:a(()=>[e(q,null,{default:a(()=>[e($,{onSubmit:f},{default:a(()=>[s("div",null,[s("div",P,[s("div",S,[s("div",z,[l[7]||(l[7]=s("div",{class:"col-12 text-center q-pt-lg"},[s("br"),s("br"),s("br"),s("br"),s("br")],-1)),l[8]||(l[8]=s("div",{class:"col-12 col-md-2"},null,-1)),l[9]||(l[9]=s("div",{class:"col-12 col-md-8 text-h6 text-bold"}," Iniciar sesión ",-1)),l[10]||(l[10]=s("div",{class:"col-12 col-md-2"},null,-1)),l[11]||(l[11]=s("div",{class:"col-12 col-md-2"},null,-1)),l[12]||(l[12]=s("div",{class:"col-12 col-md-8 text-subtitle"}," Accede al panel de Administración usando tus credenciales. ",-1)),l[13]||(l[13]=s("div",{class:"col-12 col-md-2"},null,-1)),l[14]||(l[14]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",A,[l[4]||(l[4]=i(" Nombre de usuario ")),e(b,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=o=>u.value=o),outlined:"",dense:"",placeholder:"Nombre de usuario","bg-color":"white",rules:[o=>!!o||"Ingrese su nombre de usuario"]},{append:a(()=>[e(g,{name:"account_circle",size:"xs"})]),_:1},8,["modelValue","rules"])]),l[15]||(l[15]=s("div",{class:"col-12 col-md-2"},null,-1)),l[16]||(l[16]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",E,[l[5]||(l[5]=i(" Contraseña ")),e(b,{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=o=>m.value=o),outlined:"",dense:"",placeholder:"Contraseña",type:n.value?"text":"password",rules:[o=>!!o||"Ingrese su contraseña"]},{append:a(()=>[e(g,{name:n.value?"visibility":"visibility_off",onClick:l[1]||(l[1]=o=>n.value=!n.value),size:"xs"},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),l[17]||(l[17]=s("div",{class:"col-12 col-md-2"},null,-1)),l[18]||(l[18]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",U,[e(V,{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=o=>p.value=o),label:"Recuérdame",color:"primary"},null,8,["modelValue"]),e(I),e(v,{flat:"",dense:"",label:"¿Has olvidado tu contraseña?",color:"red","no-caps":"",class:"text-bold"})]),l[19]||(l[19]=s("div",{class:"col-12 col-md-2"},null,-1)),l[20]||(l[20]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",D,[e(v,{color:"primary",label:"Iniciar sesión",dense:"",class:"full-width btnLogin","no-caps":"",unelevated:"",size:"18px",loading:c.value,type:"submit"},null,8,["loading"])]),l[21]||(l[21]=s("div",{class:"col-12 col-md-2"},null,-1)),l[22]||(l[22]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",F,[l[6]||(l[6]=i(" Eres un usuario nuevo? ")),e(v,{flat:"",dense:"",label:"Regístrate",color:"black",class:"text-bold","no-caps":""})]),l[23]||(l[23]=s("div",{class:"col-12 col-md-2"},null,-1)),l[24]||(l[24]=s("div",{class:"col-12 col-md-2"},null,-1)),s("div",M,[e(k),i(" Copyright © "+C(new Date().getFullYear())+" Clinica veterinaria. Todos los derechos reservados. ",1)]),l[25]||(l[25]=s("div",{class:"col-12 col-md-2"},null,-1))])])])])]),_:1})]),_:1})]),_:1})]),_:1}))}},O=N(R,[["__scopeId","data-v-cc7764a0"]]);export{O as default};
