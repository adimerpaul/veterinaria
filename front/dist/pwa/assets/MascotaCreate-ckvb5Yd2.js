import{c as x,o as V,w as r,a as s,Q as m,e as u,b as a,f as b,al as i,ap as f,d as C}from"./index-DVOIcHDa.js";import{Q as g}from"./QImg-C6BtJArq.js";import{Q as v}from"./QSelect-qZZk7VQs.js";import{Q as P}from"./QForm-C-BXMU-t.js";import{Q as h}from"./QPage-C33-WEWs.js";import{h as c}from"./moment-C5S46NFB.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-ENmMXpwr.js";import"./QMenu-D2bxxGoB.js";import"./QItemLabel-CDAN704G.js";import"./format-DyQxkAtJ.js";const z={data(){return{loading:!1,mascota:{nombre:"",especie:"",raza:"",sexo:"Macho",fecha_nac:c().format("YYYY-MM-DD"),senas_particulares:"",photo:"/defaultPet.jpg",color:"",propietario_nombre:"",propietario_direccion:"",propietario_telefono:"",propietario_ciudad:"Oruro",propietario_celular:""},previewImage:null,file:null,especies:["Perro","Gato","Conejo","Pez","Ave","Reptil","Otro"],razas:{Perro:["Labrador","Bulldog","Pastor Alemán","Poodle","Husky","Chihuahua","Pug","Dálmata","Beagle","Otro"],Gato:["Siames","Persa","Maine Coon","Bengalí","Otros"],Conejo:["Cabeza de León","Belier","Holandés","Otros"],Pez:["Betta","Goldfish","Tetra","Guppy","Otros"],Ave:["Perico","Canario","Loro","Cacatúa","Otros"],Reptil:["Iguana","Serpiente","Tortuga","Otros"],Otro:[]},colores:["Negro","Blanco","Gris","Marrón","Beige","Dorado","Plateado","Rojo","Canela","Crema","Azul","Verde","Amarillo","Naranja","Chocolate","Albino","Pardo","Caramelo","Atigrado","Manchado","Bicolor","Tricolor","Merle","Brindle","Ahumado","Moteado","Otros"],razasDisponibles:[],ciudades:["La Paz","Cochabamba","Santa Cruz","Oruro","Potosí","Chuquisaca","Tarija","Beni","Pando"]}},methods:{caculateEdad(){if(this.mascota.fecha_nac){const t=c(),e=c(this.mascota.fecha_nac);this.mascota.edad=t.diff(e,"years")+" años"}else this.mascota.edad=""},actualizarRazas(){this.razasDisponibles=this.razas[this.mascota.especie]||[],this.mascota.raza=""},onFileChange(t){const e=t.target.files[0];if(!e)return;this.file=e;const n=new FileReader;n.onload=p=>{this.previewImage=p.target.result,this.mascota.photo=p.target.result},n.readAsDataURL(e)},async mascotaPost(){this.loading=!0;const t=new FormData;t.append("nombre",this.mascota.nombre),t.append("especie",this.mascota.especie),t.append("raza",this.mascota.raza),t.append("apellido",this.mascota.apellido),t.append("sexo",this.mascota.sexo),t.append("edad",this.mascota.edad),t.append("fecha_nac",this.mascota.fecha_nac),t.append("senas_particulares",this.mascota.senas_particulares),t.append("photo",this.file),t.append("color",this.mascota.color),t.append("propietario_nombre",this.mascota.propietario_nombre),t.append("propietario_ci",this.mascota.propietario_ci),t.append("propietario_direccion",this.mascota.propietario_direccion),t.append("propietario_telefono",this.mascota.propietario_telefono),t.append("propietario_ciudad",this.mascota.propietario_ciudad),t.append("propietario_celular",this.mascota.propietario_celular);try{await this.$axios.post("mascotas",t),this.$alert.success("Mascota creada","Éxito"),this.$router.push({name:"mascotas"})}catch(e){console.error(e),this.$alert.error("Error al crear la mascota","Error")}finally{this.loading=!1}}}},_={class:"row"},U={class:"col-12 col-md-2 q-pa-xs"},Q={class:"col-12 col-md-2 q-pa-xs"},B={class:"col-12 col-md-2 q-pa-xs"},D={class:"col-12 col-md-2 q-pa-xs"},M={class:"col-12 col-md-2 q-pa-xs"},w={class:"col-12 col-md-2 q-pa-xs"},y={class:"col-12 col-md-2 q-pa-xs"},A={class:"col-12 col-md-3 q-pa-xs"},I={class:"col-12 col-md-2 q-pa-xs"},O={class:"col-12 col-md-2 q-pa-xs"},N={class:"row"},S={class:"col-12 col-md-3 q-pa-xs"},F={class:"col-12 col-md-3 q-pa-xs"},R={class:"col-12 col-md-3 q-pa-xs"},k={class:"col-12 col-md-3 q-pa-xs"},E={class:"col-12 col-md-3 q-pa-xs"},j={class:"col-12 text-right"};function G(t,e,n,p,l,d){return V(),x(h,{class:"q-pa-xs"},{default:r(()=>[s(m,{flat:"",bordered:""},{default:r(()=>[s(P,{onSubmit:d.mascotaPost},{default:r(()=>[s(u,null,{default:r(()=>[s(m,{flat:"",bordered:""},{default:r(()=>[s(u,null,{default:r(()=>[s(b,{onClick:e[0]||(e[0]=o=>t.$router.push({name:"mascotas"})),label:"Atrás",color:"primary",icon:"arrow_back","no-caps":"",size:"10px"}),e[29]||(e[29]=a("br",null,null,-1)),e[30]||(e[30]=a("label",{class:"text-h6"},"Datos de la Mascota",-1)),a("div",_,[a("div",U,[e[18]||(e[18]=a("label",{class:"text-subtitle2"},"Nombre",-1)),s(i,{modelValue:l.mascota.nombre,"onUpdate:modelValue":e[1]||(e[1]=o=>l.mascota.nombre=o),outlined:"",dense:"",clearable:"",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"])]),a("div",Q,[e[19]||(e[19]=a("label",{class:"text-subtitle2"},"Apellido",-1)),s(i,{modelValue:l.mascota.apellido,"onUpdate:modelValue":e[2]||(e[2]=o=>l.mascota.apellido=o),outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),a("div",B,[e[20]||(e[20]=a("label",{class:"text-subtitle2"},"Especie",-1)),s(i,{modelValue:l.mascota.especie,"onUpdate:modelValue":e[3]||(e[3]=o=>l.mascota.especie=o),label:"Especie",outlined:"",dense:"",clearable:"",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"])]),a("div",D,[e[21]||(e[21]=a("label",{class:"text-subtitle2"},"Raza",-1)),s(i,{modelValue:l.mascota.raza,"onUpdate:modelValue":e[4]||(e[4]=o=>l.mascota.raza=o),label:"Raza",outlined:"",dense:"",clearable:"",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"])]),a("div",M,[e[23]||(e[23]=a("label",{class:"text-subtitle2"},"Sexo",-1)),a("div",null,[s(f,{modelValue:l.mascota.sexo,"onUpdate:modelValue":e[5]||(e[5]=o=>l.mascota.sexo=o),val:"Macho",label:"Macho",dense:""},null,8,["modelValue"]),e[22]||(e[22]=a("br",null,null,-1)),s(f,{modelValue:l.mascota.sexo,"onUpdate:modelValue":e[6]||(e[6]=o=>l.mascota.sexo=o),val:"Hembra",label:"Hembra",dense:""},null,8,["modelValue"])])]),a("div",w,[e[24]||(e[24]=a("label",{class:"text-subtitle2"},"Fecha de Nacimiento",-1)),s(i,{modelValue:l.mascota.fecha_nac,"onUpdate:modelValue":[e[7]||(e[7]=o=>l.mascota.fecha_nac=o),d.caculateEdad],label:"Fecha de Nacimiento",outlined:"",dense:"",clearable:"",type:"date"},null,8,["modelValue","onUpdate:modelValue"])]),a("div",y,[e[25]||(e[25]=a("label",{class:"text-subtitle2"},"Foto",-1)),a("div",null,[s(g,{src:l.previewImage||l.mascota.photo,width:"80px",height:"80px",onClick:e[8]||(e[8]=o=>t.$refs.fileInput.click())},{default:r(()=>[s(C,{name:"camera_alt",class:"absolute-bottom-right cursor-pointer"})]),_:1},8,["src"]),a("input",{type:"file",onChange:e[9]||(e[9]=(...o)=>d.onFileChange&&d.onFileChange(...o)),class:"hidden",ref:"fileInput",accept:"image/*"},null,544)])]),a("div",A,[e[26]||(e[26]=a("label",{class:"text-subtitle2"},"Señas Particulares",-1)),s(i,{modelValue:l.mascota.senas_particulares,"onUpdate:modelValue":e[10]||(e[10]=o=>l.mascota.senas_particulares=o),label:"Señas Particulares",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),a("div",I,[e[27]||(e[27]=a("label",{class:"text-subtitle2"},"Color",-1)),s(i,{modelValue:l.mascota.color,"onUpdate:modelValue":e[11]||(e[11]=o=>l.mascota.color=o),label:"Color",outlined:"",dense:"",clearable:"",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"])]),a("div",O,[e[28]||(e[28]=a("label",{class:"text-subtitle2"},"Edad",-1)),s(i,{modelValue:l.mascota.edad,"onUpdate:modelValue":e[12]||(e[12]=o=>l.mascota.edad=o),label:"Edad",outlined:"",dense:"",clearable:""},null,8,["modelValue"])])])]),_:1})]),_:1}),s(m,{flat:"",bordered:""},{default:r(()=>[s(u,null,{default:r(()=>[e[36]||(e[36]=a("label",{class:"text-h6"},"Datos del propietario",-1)),a("div",N,[a("div",S,[e[31]||(e[31]=a("label",{class:"text-subtitle2"},"Nombre del Propietario",-1)),s(i,{modelValue:l.mascota.propietario_nombre,"onUpdate:modelValue":e[13]||(e[13]=o=>l.mascota.propietario_nombre=o),label:"Nombre del Propietario",outlined:"",dense:"",clearable:"",rules:[o=>!!o||"Campo requerido"]},null,8,["modelValue","rules"])]),a("div",F,[e[32]||(e[32]=a("label",{class:"text-subtitle2"},"CI del Propietario",-1)),s(i,{modelValue:l.mascota.propietario_ci,"onUpdate:modelValue":e[14]||(e[14]=o=>l.mascota.propietario_ci=o),label:"CI del Propietario",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),a("div",R,[e[33]||(e[33]=a("label",{class:"text-subtitle2"},"Dirección del Propietario",-1)),s(i,{modelValue:l.mascota.propietario_direccion,"onUpdate:modelValue":e[15]||(e[15]=o=>l.mascota.propietario_direccion=o),label:"Dirección del Propietario",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),a("div",k,[e[34]||(e[34]=a("label",{class:"text-subtitle2"},"Numero de contacto",-1)),s(i,{modelValue:l.mascota.propietario_telefono,"onUpdate:modelValue":e[16]||(e[16]=o=>l.mascota.propietario_telefono=o),label:"Teléfono del Propietario",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),a("div",E,[e[35]||(e[35]=a("label",{class:"text-subtitle2"},"Ciudad del Propietario",-1)),s(v,{modelValue:l.mascota.propietario_ciudad,"onUpdate:modelValue":e[17]||(e[17]=o=>l.mascota.propietario_ciudad=o),label:"Ciudad del Propietario",outlined:"",dense:"",options:l.ciudades},null,8,["modelValue","options"])]),a("div",j,[s(b,{type:"submit",label:"Guardar",color:"green",loading:l.loading,disable:l.loading,icon:"save","no-caps":""},null,8,["loading","disable"])])])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})}const oe=q(z,[["render",G]]);export{oe as default};
