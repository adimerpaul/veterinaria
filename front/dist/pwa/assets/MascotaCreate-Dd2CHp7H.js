import{c as x,o as V,w as i,a as s,Q as u,e as c,b as o,f as b,ak as r,ap as f,d as g}from"./index-Bxzzzh3w.js";import{Q as n}from"./QSelect-CFRO6gX4.js";import{Q as C}from"./QImg-C3IZyjLk.js";import{Q as P}from"./QForm-CiqTuq1d.js";import{Q as v}from"./QPage-DrPVOnkl.js";import{h as z}from"./moment-C5S46NFB.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-BowtMuZ1.js";import"./QItemLabel-DOqrTAYA.js";const h={data(){return{loading:!1,mascota:{nombre:"",especie:"",raza:"",sexo:"Macho",fecha_nac:z().format("YYYY-MM-DD"),senas_particulares:"",photo:"/defaultPet.jpg",color:"",propietario_nombre:"",propietario_direccion:"",propietario_telefono:"",propietario_ciudad:"Oruro",propietario_celular:""},previewImage:null,file:null,especies:["Perro","Gato","Conejo","Pez","Ave","Reptil","Otro"],razas:{Perro:["Labrador","Bulldog","Pastor Alemán","Poodle","Husky","Chihuahua","Pug","Dálmata","Beagle","Otro"],Gato:["Siames","Persa","Maine Coon","Bengalí","Otros"],Conejo:["Cabeza de León","Belier","Holandés","Otros"],Pez:["Betta","Goldfish","Tetra","Guppy","Otros"],Ave:["Perico","Canario","Loro","Cacatúa","Otros"],Reptil:["Iguana","Serpiente","Tortuga","Otros"],Otro:[]},colores:["Negro","Blanco","Gris","Marrón","Beige","Dorado","Plateado","Rojo","Canela","Crema","Azul","Verde","Amarillo","Naranja","Chocolate","Albino","Pardo","Caramelo","Atigrado","Manchado","Bicolor","Tricolor","Merle","Brindle","Ahumado","Moteado","Otros"],razasDisponibles:[],ciudades:["La Paz","Cochabamba","Santa Cruz","Oruro","Potosí","Chuquisaca","Tarija","Beni","Pando"]}},methods:{actualizarRazas(){this.razasDisponibles=this.razas[this.mascota.especie]||[],this.mascota.raza=""},onFileChange(t){const e=t.target.files[0];if(!e)return;this.file=e;const p=new FileReader;p.onload=m=>{this.previewImage=m.target.result,this.mascota.photo=m.target.result},p.readAsDataURL(e)},async mascotaPost(){this.loading=!0;const t=new FormData;t.append("nombre",this.mascota.nombre),t.append("especie",this.mascota.especie),t.append("raza",this.mascota.raza),t.append("sexo",this.mascota.sexo),t.append("edad",this.mascota.edad),t.append("fecha_nac",this.mascota.fecha_nac),t.append("senas_particulares",this.mascota.senas_particulares),t.append("photo",this.file),t.append("color",this.mascota.color),t.append("propietario_nombre",this.mascota.propietario_nombre),t.append("propietario_ci",this.mascota.propietario_ci),t.append("propietario_direccion",this.mascota.propietario_direccion),t.append("propietario_telefono",this.mascota.propietario_telefono),t.append("propietario_ciudad",this.mascota.propietario_ciudad),t.append("propietario_celular",this.mascota.propietario_celular);try{await this.$axios.post("mascotas",t),this.$alert.success("Mascota creada","Éxito"),this.$router.push({name:"mascotas"})}catch(e){console.error(e),this.$alert.error("Error al crear la mascota","Error")}finally{this.loading=!1}}}},q={class:"row"},U={class:"col-12 col-md-3 q-pa-xs"},Q={class:"col-12 col-md-2 q-pa-xs"},B={class:"col-12 col-md-2 q-pa-xs"},D={class:"col-12 col-md-3 q-pa-xs"},M={class:"col-12 col-md-2 q-pa-xs"},w={class:"col-12 col-md-2 q-pa-xs"},I={class:"col-12 col-md-3 q-pa-xs"},O={class:"col-12 col-md-2 q-pa-xs"},A={class:"col-12 col-md-2 q-pa-xs"},R={class:"row"},S={class:"col-12 col-md-3 q-pa-xs"},k={class:"col-12 col-md-3 q-pa-xs"},y={class:"col-12 col-md-3 q-pa-xs"},F={class:"col-12 col-md-3 q-pa-xs"},N={class:"col-12 col-md-3 q-pa-xs"},j={class:"col-12 text-right"};function E(t,e,p,m,a,d){return V(),x(v,{class:"q-pa-xs"},{default:i(()=>[s(u,{flat:"",bordered:""},{default:i(()=>[s(P,{onSubmit:d.mascotaPost},{default:i(()=>[s(c,null,{default:i(()=>[s(u,{flat:"",bordered:""},{default:i(()=>[s(c,null,{default:i(()=>[s(b,{onClick:e[0]||(e[0]=l=>t.$router.push({name:"mascotas"})),label:"Atrás",color:"primary",icon:"arrow_back","no-caps":"",size:"10px"}),e[26]||(e[26]=o("br",null,null,-1)),e[27]||(e[27]=o("label",{class:"text-h6"},"Datos de la Mascota",-1)),o("div",q,[o("div",U,[e[17]||(e[17]=o("label",{class:"text-subtitle2"},"Nombre",-1)),s(r,{modelValue:a.mascota.nombre,"onUpdate:modelValue":e[1]||(e[1]=l=>a.mascota.nombre=l),outlined:"",dense:"",clearable:"",rules:[l=>!!l||"Campo requerido"]},null,8,["modelValue","rules"])]),o("div",Q,[e[18]||(e[18]=o("label",{class:"text-subtitle2"},"Especie",-1)),s(n,{modelValue:a.mascota.especie,"onUpdate:modelValue":[e[2]||(e[2]=l=>a.mascota.especie=l),d.actualizarRazas],label:"Especie",outlined:"",dense:"",options:a.especies},null,8,["modelValue","options","onUpdate:modelValue"])]),o("div",B,[e[19]||(e[19]=o("label",{class:"text-subtitle2"},"Raza",-1)),s(n,{modelValue:a.mascota.raza,"onUpdate:modelValue":e[3]||(e[3]=l=>a.mascota.raza=l),label:"Raza",outlined:"",dense:"",options:a.razasDisponibles},null,8,["modelValue","options"])]),o("div",D,[e[20]||(e[20]=o("label",{class:"text-subtitle2"},"Sexo",-1)),o("div",null,[s(f,{modelValue:a.mascota.sexo,"onUpdate:modelValue":e[4]||(e[4]=l=>a.mascota.sexo=l),val:"Macho",label:"Macho"},null,8,["modelValue"]),s(f,{modelValue:a.mascota.sexo,"onUpdate:modelValue":e[5]||(e[5]=l=>a.mascota.sexo=l),val:"Hembra",label:"Hembra"},null,8,["modelValue"])])]),o("div",M,[e[21]||(e[21]=o("label",{class:"text-subtitle2"},"Fecha de Nacimiento",-1)),s(r,{modelValue:a.mascota.fecha_nac,"onUpdate:modelValue":e[6]||(e[6]=l=>a.mascota.fecha_nac=l),label:"Fecha de Nacimiento",outlined:"",dense:"",clearable:"",type:"date"},null,8,["modelValue"])]),o("div",w,[e[22]||(e[22]=o("label",{class:"text-subtitle2"},"Foto",-1)),o("div",null,[s(C,{src:a.previewImage||a.mascota.photo,width:"80px",height:"80px",onClick:e[7]||(e[7]=l=>t.$refs.fileInput.click())},{default:i(()=>[s(g,{name:"camera_alt",class:"absolute-bottom-right cursor-pointer"})]),_:1},8,["src"]),o("input",{type:"file",onChange:e[8]||(e[8]=(...l)=>d.onFileChange&&d.onFileChange(...l)),class:"hidden",ref:"fileInput",accept:"image/*"},null,544)])]),o("div",I,[e[23]||(e[23]=o("label",{class:"text-subtitle2"},"Señas Particulares",-1)),s(r,{modelValue:a.mascota.senas_particulares,"onUpdate:modelValue":e[9]||(e[9]=l=>a.mascota.senas_particulares=l),label:"Señas Particulares",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),o("div",O,[e[24]||(e[24]=o("label",{class:"text-subtitle2"},"Color",-1)),s(n,{modelValue:a.mascota.color,"onUpdate:modelValue":e[10]||(e[10]=l=>a.mascota.color=l),label:"Color",outlined:"",dense:"",options:a.colores},null,8,["modelValue","options"])]),o("div",A,[e[25]||(e[25]=o("label",{class:"text-subtitle2"},"Edad",-1)),s(r,{modelValue:a.mascota.edad,"onUpdate:modelValue":e[11]||(e[11]=l=>a.mascota.edad=l),label:"Edad",outlined:"",dense:"",clearable:""},null,8,["modelValue"])])])]),_:1})]),_:1}),s(u,{flat:"",bordered:""},{default:i(()=>[s(c,null,{default:i(()=>[e[33]||(e[33]=o("label",{class:"text-h6"},"Datos de la Mascota",-1)),o("div",R,[o("div",S,[e[28]||(e[28]=o("label",{class:"text-subtitle2"},"Nombre del Propietario",-1)),s(r,{modelValue:a.mascota.propietario_nombre,"onUpdate:modelValue":e[12]||(e[12]=l=>a.mascota.propietario_nombre=l),label:"Nombre del Propietario",outlined:"",dense:"",clearable:"",rules:[l=>!!l||"Campo requerido"]},null,8,["modelValue","rules"])]),o("div",k,[e[29]||(e[29]=o("label",{class:"text-subtitle2"},"CI del Propietario",-1)),s(r,{modelValue:a.mascota.propietario_ci,"onUpdate:modelValue":e[13]||(e[13]=l=>a.mascota.propietario_ci=l),label:"CI del Propietario",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),o("div",y,[e[30]||(e[30]=o("label",{class:"text-subtitle2"},"Dirección del Propietario",-1)),s(r,{modelValue:a.mascota.propietario_direccion,"onUpdate:modelValue":e[14]||(e[14]=l=>a.mascota.propietario_direccion=l),label:"Dirección del Propietario",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),o("div",F,[e[31]||(e[31]=o("label",{class:"text-subtitle2"},"Teléfono del Propietario",-1)),s(r,{modelValue:a.mascota.propietario_telefono,"onUpdate:modelValue":e[15]||(e[15]=l=>a.mascota.propietario_telefono=l),label:"Teléfono del Propietario",outlined:"",dense:"",clearable:""},null,8,["modelValue"])]),o("div",N,[e[32]||(e[32]=o("label",{class:"text-subtitle2"},"Celular del Propietario",-1)),s(n,{modelValue:a.mascota.propietario_ciudad,"onUpdate:modelValue":e[16]||(e[16]=l=>a.mascota.propietario_ciudad=l),label:"Ciudad del Propietario",outlined:"",dense:"",options:a.ciudades},null,8,["modelValue","options"])]),o("div",j,[s(b,{type:"submit",label:"Guardar",color:"green",loading:a.loading,disable:a.loading,icon:"save","no-caps":""},null,8,["loading","disable"])])])]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})}const Z=_(h,[["render",E]]);export{Z as default};
