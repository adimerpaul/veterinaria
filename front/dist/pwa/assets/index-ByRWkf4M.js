var n={},v;function g(){if(v)return n;v=1,Object.defineProperty(n,"__esModule",{value:!0}),n.Printd=n.createIFrame=n.createLinkStyle=n.createStyle=void 0;var L=/^(((http[s]?)|file):)?(\/\/)+([0-9a-zA-Z-_.=?&].+)$/,A=/^((\.|\.\.)?\/)([0-9a-zA-Z-_.=?&]+\/)*([0-9a-zA-Z-_.=?&]+)$/,f=function(i){return L.test(i)||A.test(i)};function d(i,t){var e=i.createElement("style");return e.appendChild(i.createTextNode(t)),e}n.createStyle=d;function c(i,t){var e=i.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,e}n.createLinkStyle=c;function u(i){var t=window.document.createElement("iframe");return t.setAttribute("src","about:blank"),t.setAttribute("style","visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;"),t.setAttribute("width","0"),t.setAttribute("height","0"),t.setAttribute("wmode","opaque"),i.appendChild(t),t}n.createIFrame=u;var P={parent:window.document.body,headElements:[],bodyElements:[]},l=function(){function i(t){this.isLoading=!1,this.hasEvents=!1,this.opts=[P,t||{}].reduce(function(e,s){return Object.keys(s).forEach(function(o){return e[o]=s[o]}),e},{}),this.iframe=u(this.opts.parent)}return i.prototype.getIFrame=function(){return this.iframe},i.prototype.print=function(t,e,s,o){if(!this.isLoading){var p=this.iframe,C=p.contentDocument,y=p.contentWindow;if(!(!C||!y)&&(this.iframe.src="about:blank",this.elCopy=t.cloneNode(!0),!!this.elCopy)){this.isLoading=!0,this.callback=o;var a=y.document;a.open(),a.write('<!DOCTYPE html><html><head><meta charset="utf-8"></head><body></body></html>'),this.addEvents();var m=this.opts,b=m.headElements,E=m.bodyElements;Array.isArray(b)&&b.forEach(function(r){return a.head.appendChild(r)}),Array.isArray(E)&&E.forEach(function(r){return a.body.appendChild(r)}),Array.isArray(e)&&e.forEach(function(r){r&&a.head.appendChild(f(r)?c(a,r):d(a,r))}),a.body.appendChild(this.elCopy),Array.isArray(s)&&s.forEach(function(r){if(r){var h=a.createElement("script");f(r)?h.src=r:h.innerText=r,a.body.appendChild(h)}}),a.close()}}},i.prototype.printURL=function(t,e){this.isLoading||(this.addEvents(),this.isLoading=!0,this.callback=e,this.iframe.src=t)},i.prototype.onBeforePrint=function(t){this.onbeforeprint=t},i.prototype.onAfterPrint=function(t){this.onafterprint=t},i.prototype.launchPrint=function(t){this.isLoading||t.print()},i.prototype.addEvents=function(){var t=this;if(!this.hasEvents){this.hasEvents=!0,this.iframe.addEventListener("load",function(){return t.onLoad()},!1);var e=this.iframe.contentWindow;e&&(this.onbeforeprint&&e.addEventListener("beforeprint",this.onbeforeprint),this.onafterprint&&e.addEventListener("afterprint",this.onafterprint))}},i.prototype.onLoad=function(){var t=this;if(this.iframe){this.isLoading=!1;var e=this.iframe,s=e.contentDocument,o=e.contentWindow;if(!s||!o)return;typeof this.callback=="function"?this.callback({iframe:this.iframe,element:this.elCopy,launchPrint:function(){return t.launchPrint(o)}}):this.launchPrint(o)}},i}();return n.Printd=l,n.default=l,n}var k=g();export{k as p};
