import{c as d,o as r,w as a,a as t,Q,e as k,b as e,al as v,d as C,f as u,a1 as P,a0 as f,a2 as V,a3 as y,ao as m,W as h,_,t as i}from"./index-C5kyMnGQ.js";import{Q as w}from"./QPagination-CG9BN3AZ.js";import{Q as g,a as b}from"./QMenu--_KZolru.js";import{Q as B,a as E}from"./QList-QoPebk3D.js";import{Q as S}from"./QMarkupTable-DP-cXbbt.js";import{Q as N}from"./QForm-5ENu41G6.js";import{Q as z}from"./QPage-Dj1ZAqLK.js";import{C as x}from"./ClosePopup-Bwxmca-n.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-DyQxkAtJ.js";const G={data(){return{filter:"",loading:!1,mascotas:[],totalPages:1,currentPage:1}},created(){this.mascotasGet()},methods:{mascotaDelete(s){this.$alert.confirm("¿Estás seguro de eliminar la mascota?").onOk(()=>{this.$axios.delete(`/mascotas/${s.id}`).then(o=>{this.mascotasGet()}).catch(o=>{console.log(o)})})},mascotaEdit(s){this.$router.push({name:"mascotas-edit",params:{id:s.id}})},mascotasGet(){this.$axios.get("/mascotas",{params:{filter:this.filter,page:this.currentPage,limit:20}}).then(s=>{this.mascotas=s.data.data,this.totalPages=s.data.last_page}).catch(s=>{console.log(s)})}}},I={class:"row"},F={class:"col-8 col-md-3"},M={class:"col-4 col-md-2 flex flex-center"},U={class:"col-12 col-md-7 text-right"},A={class:"col-12 flex flex-center"},L={class:"col-12"},R=["onClick"];function q(s,o,O,T,n,c){return r(),d(z,{class:"q-pa-xs"},{default:a(()=>[t(Q,{flat:"",bordered:""},{default:a(()=>[t(k,null,{default:a(()=>[t(N,{onSubmit:c.mascotasGet},{default:a(()=>[e("div",I,[e("div",F,[t(v,{modelValue:n.filter,"onUpdate:modelValue":o[0]||(o[0]=l=>n.filter=l),label:"Buscar",outlined:"",dense:"",clearable:""},{prepend:a(()=>[t(C,{name:"search"})]),_:1},8,["modelValue"])]),e("div",M,[t(u,{color:"primary",label:"Buscar",type:"submit","no-caps":"",icon:"search",loading:n.loading},null,8,["loading"])]),e("div",U,[t(u,{color:"positive",label:"Nuevo","no-caps":"",icon:"add_circle_outline",loading:n.loading,to:"/mascotas/create"},null,8,["loading"])]),e("div",A,[n.totalPages>1?(r(),d(w,{key:0,modelValue:n.currentPage,"onUpdate:modelValue":[o[1]||(o[1]=l=>n.currentPage=l),c.mascotasGet],max:n.totalPages,"max-pages":5,"boundary-numbers":"",color:"black"},null,8,["modelValue","max","onUpdate:modelValue"])):P("",!0)]),e("div",L,[t(S,{dense:"","wrap-cells":"",flat:"",bordered:""},{default:a(()=>[o[3]||(o[3]=e("thead",null,[e("tr",{class:"bg-black text-white"},[e("th",null,"Acciones"),e("th",null,"Id"),e("th",null,"Nombre"),e("th",null,"Especie"),e("th",null,"Raza"),e("th",null,"Sexo"),e("th",null,"Fecha Nac."),e("th",null,"Señas Particulares"),e("th",null,"Color"),e("th",null,"Propietario")])],-1)),e("tbody",null,[(r(!0),f(V,null,y(n.mascotas,l=>(r(),f("tr",{key:l.id,onClick:p=>c.mascotaEdit(l)},[e("td",null,[t(B,{size:"10px",color:"primary",label:"Acciones","no-caps":"",dense:"",onClick:o[2]||(o[2]=m(()=>{},["stop"]))},{default:a(()=>[t(E,null,{default:a(()=>[h((r(),d(g,{clickable:"",onClick:m(p=>c.mascotaEdit(l),["stop"]),dense:""},{default:a(()=>[t(b,null,{default:a(()=>[t(u,{color:"orange",dense:"",size:"10px",label:"Ver",icon:"visibility","no-caps":""})]),_:1})]),_:2},1032,["onClick"])),[[_],[x]]),h((r(),d(g,{clickable:"",onClick:m(p=>c.mascotaDelete(l),["stop"])},{default:a(()=>[t(b,null,{default:a(()=>[t(u,{color:"negative",dense:"",size:"10px",label:"Eliminar",icon:"delete","no-caps":""})]),_:1})]),_:2},1032,["onClick"])),[[_],[x]])]),_:2},1024)]),_:2},1024)]),e("td",null,i(l.id),1),e("td",null,i(l.nombre),1),e("td",null,i(l.especie),1),e("td",null,i(l.raza),1),e("td",null,i(l.sexo),1),e("td",null,i(l.fecha_nac),1),e("td",null,i(l.senas_particulares),1),e("td",null,i(l.color),1),e("td",null,i(l.propietario_nombre),1)],8,R))),128))])]),_:1})])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}const le=D(G,[["render",q]]);export{le as default};
